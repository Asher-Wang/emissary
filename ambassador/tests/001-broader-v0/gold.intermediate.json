{
    "envoy_config": {
        "admin": [
            {
                "_source": "ambassador.yaml.1",
                "admin_port": 8001
            }
        ],
        "clusters": [
            {
                "_referenced_by": [
                    "ambassador.yaml.1"
                ],
                "_service": "127.0.0.1:8877",
                "_source": "ambassador.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_127_0_0_1_8877",
                "type": "strict_dns",
                "urls": [
                    "tcp://127.0.0.1:8877"
                ]
            },
            {
                "_referenced_by": [
                    "auth-2.yaml.1",
                    "auth.yaml.1"
                ],
                "_service": "canary-auth:3000",
                "_source": "auth-2.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_extauth_http___canary_auth_3000",
                "type": "strict_dns",
                "urls": [
                    "tcp://canary-auth:3000",
                    "tcp://example-auth:3000"
                ]
            },
            {
                "_referenced_by": [
                    "evil source.1",
                    "mapping-qotm.yaml.1",
                    "mapping-qotm.yaml.2",
                    "mapping-qotm.yaml.3"
                ],
                "_service": "qotm",
                "_source": "evil source.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_qotm",
                "type": "strict_dns",
                "urls": [
                    "tcp://qotm:80"
                ]
            },
            {
                "_referenced_by": [
                    "evil source.3"
                ],
                "_service": "qotm",
                "_source": "evil source.3",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_http___qotm",
                "type": "strict_dns",
                "urls": [
                    "tcp://qotm:80"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-google.yaml.1"
                ],
                "_service": "google.com",
                "_source": "mapping-google.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "host_rewrite": "google.com",
                "lb_type": "round_robin",
                "name": "cluster_https___google_com_otls_hr_google_com",
                "tls_array": [
                    {
                        "key": "sni",
                        "value": "google.com"
                    }
                ],
                "tls_context": {
                    "_ambassador_enabled": true,
                    "secret_info": {},
                    "valid_tls": false
                },
                "type": "strict_dns",
                "urls": [
                    "tcp://google.com:443"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-grpc.yaml.1"
                ],
                "_service": "192.168.0.1:45",
                "_source": "mapping-grpc.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "grpc": true,
                "lb_type": "round_robin",
                "name": "cluster_192_168_0_1_45",
                "type": "strict_dns",
                "urls": [
                    "tcp://192.168.0.1:45"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-httpbin-shadow.yaml.1"
                ],
                "_service": "myservice.org/",
                "_source": "mapping-httpbin-shadow.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "host_rewrite": "httpbin.org",
                "lb_type": "round_robin",
                "name": "cluster_shadow_https___myservice_org__otls_hr_httpbin_org",
                "tls_array": [
                    {
                        "key": "sni",
                        "value": "httpbin.org"
                    }
                ],
                "tls_context": {
                    "_ambassador_enabled": true,
                    "secret_info": {},
                    "valid_tls": false
                },
                "type": "strict_dns",
                "urls": [
                    "tcp://myservice.org:443"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-httpbin.yaml.1"
                ],
                "_service": "httpbin.org",
                "_source": "mapping-httpbin.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "host_rewrite": "httpbin.org",
                "lb_type": "round_robin",
                "name": "cluster_wtfo___httpbin_org",
                "type": "strict_dns",
                "urls": [
                    "tcp://httpbin.org:80"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-qotm2.yaml.1"
                ],
                "_service": "qotm.tspace",
                "_source": "mapping-qotm2.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_qotm_tspace",
                "type": "strict_dns",
                "urls": [
                    "tcp://qotm.tspace:80"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-redirector.yaml.3"
                ],
                "_service": "httpbin.org",
                "_source": "mapping-redirector.yaml.3",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_shadow_httpbin_org",
                "type": "strict_dns",
                "urls": [
                    "tcp://httpbin.org:80"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-websocket.yaml.1"
                ],
                "_service": "slack.com",
                "_source": "mapping-websocket.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_slack_com",
                "type": "strict_dns",
                "urls": [
                    "tcp://slack.com:80"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-with-precedence.yaml.1"
                ],
                "_service": "precedence_none",
                "_source": "mapping-with-precedence.yaml.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_precedence_none",
                "type": "strict_dns",
                "urls": [
                    "tcp://precedence_none:80"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-with-precedence.yaml.2"
                ],
                "_service": "precedence_zero",
                "_source": "mapping-with-precedence.yaml.2",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_precedence_zero",
                "type": "strict_dns",
                "urls": [
                    "tcp://precedence_zero:80"
                ]
            },
            {
                "_referenced_by": [
                    "mapping-with-precedence.yaml.3",
                    "mapping-with-precedence.yaml.4"
                ],
                "_service": "precedence_one",
                "_source": "mapping-with-precedence.yaml.3",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_precedence_one",
                "type": "strict_dns",
                "urls": [
                    "tcp://precedence_one:80"
                ]
            },
            {
                "_referenced_by": [
                    "test source.1"
                ],
                "_service": "really-really-really-long-no-i-mean-really-really-really-really-long-service",
                "_source": "test source.1",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_really_really_really_long_no_i_m-0",
                "type": "strict_dns",
                "urls": [
                    "tcp://really-really-really-long-no-i-mean-really-really-really-really-long-service:80"
                ]
            },
            {
                "_referenced_by": [
                    "test source.2",
                    "test source.3"
                ],
                "_service": "really-really-really-long-no-i-mean-really-really-really-really-long-service-two",
                "_source": "test source.2",
                "enable_ipv4": true,
                "enable_ipv6": false,
                "lb_type": "round_robin",
                "name": "cluster_really_really_really_long_no_i_m-1",
                "type": "strict_dns",
                "urls": [
                    "tcp://really-really-really-long-no-i-mean-really-really-really-really-long-service-two:80"
                ]
            }
        ],
        "filters": [
            {
                "_source": "--internal--",
                "config": {},
                "name": "cors"
            },
            {
                "_referenced_by": [
                    "auth-2.yaml.1",
                    "auth.yaml.1"
                ],
                "_services": [
                    "http://canary-auth:3000",
                    "http://example-auth:3000"
                ],
                "_source": "auth-2.yaml.1",
                "config": {
                    "allowed_headers": [
                        "x-qotm-session"
                    ],
                    "cluster": "cluster_extauth_http___canary_auth_3000",
                    "path_prefix": "/extauth",
                    "timeout_ms": 5000
                },
                "name": "extauth",
                "type": "decoder"
            },
            {
                "_source": "ambassador.yaml.1",
                "config": {},
                "name": "grpc_http1_bridge"
            },
            {
                "_source": "--internal--",
                "config": {},
                "name": "router",
                "type": "decoder"
            }
        ],
        "listeners": [
            {
                "_source": "ambassador.yaml.1",
                "redirect_listener": false,
                "require_tls": false,
                "service_port": 443,
                "tls": {
                    "_source": "ambassador.yaml.1",
                    "cacert_chain_file": "/etc/ambassador-config/ca_cert_chain/tls.crt",
                    "cert_chain_file": "/etc/ambassador-config/certs/tls.crt",
                    "cert_required": true,
                    "private_key_file": "/etc/ambassador-config/certs/tls.key",
                    "ssl_context": true
                },
                "use_proxy_proto": true,
                "use_remote_address": true
            }
        ],
        "routes": [
            {
                "__saved": [
                    0,
                    1,
                    23,
                    "/",
                    "GET",
                    ":authority-n.datawire.io"
                ],
                "_group_id": "2c9e840b0453cf780ca0e3580e73d8f8dc8f60ba",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-with-precedence.yaml.1"
                ],
                "_source": "mapping-with-precedence.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_precedence_none",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":authority",
                        "regex": false,
                        "value": "n.datawire.io"
                    }
                ],
                "prefix": "/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    1,
                    23,
                    "/",
                    "GET",
                    ":authority-z.datawire.io"
                ],
                "_group_id": "314043c0cb47b67e11ac11c867e8e6d2d6635ee3",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-with-precedence.yaml.2"
                ],
                "_source": "mapping-with-precedence.yaml.2",
                "clusters": [
                    {
                        "name": "cluster_precedence_zero",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":authority",
                        "regex": false,
                        "value": "z.datawire.io"
                    }
                ],
                "prefix": "/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    6,
                    0,
                    "/grpc/",
                    "GET"
                ],
                "_group_id": "d211ffed057b6b1d76be7acd6c3dd9adc84fccad",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-grpc.yaml.1"
                ],
                "_source": "mapping-grpc.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_192_168_0_1_45",
                        "weight": 100.0
                    }
                ],
                "grpc": true,
                "prefix": "/grpc/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    6,
                    0,
                    "/qotm/",
                    "GET"
                ],
                "_group_id": "467077fe5e44a0ca9d4eb415fa9cd501266c3eea",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-qotm.yaml.1",
                    "mapping-redirector.yaml.3"
                ],
                "_source": "mapping-qotm.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_qotm",
                        "weight": 100.0
                    }
                ],
                "prefix": "/qotm/",
                "prefix_rewrite": "/",
                "shadow": {
                    "name": "cluster_shadow_httpbin_org"
                }
            },
            {
                "__saved": [
                    0,
                    6,
                    10,
                    "/evil/",
                    "GET",
                    ":method-GET"
                ],
                "_group_id": "aab757d05d734b053a9bf1d78091ec3219da9ac7",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "evil source.1"
                ],
                "_source": "evil source.1",
                "clusters": [
                    {
                        "name": "cluster_qotm",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":method",
                        "regex": false,
                        "value": "GET"
                    }
                ],
                "prefix": "/evil/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    6,
                    10,
                    "/evil/",
                    "PUT",
                    ":method-PUT"
                ],
                "_group_id": "49cf65eae6cf248fdbc730fc0e1f3cdb7dbd7813",
                "_method": "PUT",
                "_precedence": 0,
                "_referenced_by": [
                    "evil source.3"
                ],
                "_source": "evil source.3",
                "clusters": [
                    {
                        "name": "cluster_http___qotm",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":method",
                        "regex": false,
                        "value": "PUT"
                    }
                ],
                "prefix": "/evil/",
                "prefix_rewrite": "/qotm/quote/"
            },
            {
                "__saved": [
                    0,
                    6,
                    13,
                    "/long/",
                    "DELETE",
                    ":method-DELETE"
                ],
                "_group_id": "8ef9d7d8ccec383d45e6e1d7d3df5c9581e52081",
                "_method": "DELETE",
                "_precedence": 0,
                "_referenced_by": [
                    "test source.3"
                ],
                "_source": "test source.3",
                "clusters": [
                    {
                        "name": "cluster_really_really_really_long_no_i_m-1",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":method",
                        "regex": false,
                        "value": "DELETE"
                    }
                ],
                "prefix": "/long/",
                "prefix_rewrite": "/qotm/quote/"
            },
            {
                "__saved": [
                    0,
                    6,
                    40,
                    "/long/",
                    "PUT",
                    ":authority-^bar\\.example\\.com$",
                    ":method-PUT"
                ],
                "_group_id": "0d916b2bfb64c4fe7d5c9c121c2d77b2242b4741",
                "_method": "PUT",
                "_precedence": 0,
                "_referenced_by": [
                    "test source.2"
                ],
                "_source": "test source.2",
                "clusters": [
                    {
                        "name": "cluster_really_really_really_long_no_i_m-1",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":authority",
                        "regex": true,
                        "value": "^bar\\.example\\.com$"
                    },
                    {
                        "name": ":method",
                        "regex": false,
                        "value": "PUT"
                    }
                ],
                "host_regex": true,
                "prefix": "/long/",
                "prefix_rewrite": "/qotm/quote/"
            },
            {
                "__saved": [
                    0,
                    6,
                    63,
                    "/long/",
                    "GET",
                    "foo-^bar\\.example\\.com$",
                    ":authority-^bar\\.example\\.com$",
                    ":method-GET"
                ],
                "_group_id": "8e0cd7e16728730039d923710005d3453599fb96",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "test source.1"
                ],
                "_source": "test source.1",
                "clusters": [
                    {
                        "name": "cluster_really_really_really_long_no_i_m-0",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": "foo",
                        "regex": true,
                        "value": "^bar\\.example\\.com$"
                    },
                    {
                        "name": ":authority",
                        "regex": true,
                        "value": "^bar\\.example\\.com$"
                    },
                    {
                        "name": ":method",
                        "regex": false,
                        "value": "GET"
                    }
                ],
                "prefix": "/long/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    7,
                    0,
                    "/slack/",
                    "GET"
                ],
                "_group_id": "86daa55fdbadcda62b2e87f0e970ce03c0078793",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-websocket.yaml.1"
                ],
                "_source": "mapping-websocket.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_slack_com",
                        "weight": 100.0
                    }
                ],
                "prefix": "/slack/",
                "prefix_rewrite": "/",
                "use_websocket": true
            },
            {
                "__saved": [
                    0,
                    8,
                    0,
                    "/google/",
                    "GET"
                ],
                "_group_id": "397201628691406a303fdd989f5e8ff7eaf0ee99",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-google.yaml.1"
                ],
                "_source": "mapping-google.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_https___google_com_otls_hr_google_com",
                        "weight": 100.0
                    }
                ],
                "envoy_override": {
                    "request_headers_to_add": [
                        {
                            "key": "test",
                            "value": "%PROTOCOL%"
                        },
                        {
                            "key": "test-2",
                            "value": "testing"
                        }
                    ]
                },
                "host_rewrite": "google.com",
                "prefix": "/google/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    8,
                    0,
                    "/tspace/",
                    "GET"
                ],
                "_group_id": "867e2efb935f436058e341f94890bc06e287bdb1",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-qotm2.yaml.1"
                ],
                "_source": "mapping-qotm2.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_qotm_tspace",
                        "weight": 100.0
                    }
                ],
                "prefix": "/tspace/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    9,
                    0,
                    "/httpbin/",
                    "GET"
                ],
                "_group_id": "c4ada926d9d7864b666698db04169283442dce24",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-httpbin-shadow.yaml.1",
                    "mapping-httpbin.yaml.1"
                ],
                "_source": "mapping-httpbin-shadow.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_wtfo___httpbin_org",
                        "weight": 100.0
                    }
                ],
                "host_rewrite": "httpbin.org",
                "prefix": "/httpbin/",
                "prefix_rewrite": "/",
                "shadow": {
                    "name": "cluster_shadow_https___myservice_org__otls_hr_httpbin_org"
                },
                "timeout_ms": 50
            },
            {
                "__saved": [
                    0,
                    9,
                    0,
                    "/service/",
                    "GET"
                ],
                "_group_id": "c65a569c96bb767fa8d965dcee1d6ec51fe28e9a",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-qotm.yaml.3"
                ],
                "_source": "mapping-qotm.yaml.3",
                "clusters": [
                    {
                        "name": "cluster_qotm",
                        "weight": 100.0
                    }
                ],
                "prefix": "/service/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    0,
                    10,
                    0,
                    "/redirect/",
                    "GET"
                ],
                "_group_id": "59cda815c0e8d2378f285652d39f328257195d5f",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-redirector.yaml.1"
                ],
                "_source": "mapping-redirector.yaml.1",
                "clusters": [],
                "host_redirect": "httpbin.org",
                "path_redirect": "/ip/",
                "prefix": "/redirect/",
                "prefix_rewrite": "/",
                "timeout_ms": 50
            },
            {
                "__saved": [
                    0,
                    11,
                    0,
                    "/redirect2/",
                    "GET"
                ],
                "_group_id": "891da6f35e99e055bb7b6c5f406350309a29b99c",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-redirector.yaml.2"
                ],
                "_source": "mapping-redirector.yaml.2",
                "clusters": [],
                "host_redirect": "httpbin.org",
                "prefix": "/redirect2/",
                "prefix_rewrite": "/",
                "timeout_ms": 50
            },
            {
                "__saved": [
                    0,
                    12,
                    0,
                    "/qotm/quote/",
                    "GET"
                ],
                "_group_id": "7f44259141783a20c1389b8203b20cb419425d2c",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "mapping-qotm.yaml.2"
                ],
                "_source": "mapping-qotm.yaml.2",
                "clusters": [
                    {
                        "name": "cluster_qotm",
                        "weight": 100.0
                    }
                ],
                "prefix": "/qotm/quote/",
                "prefix_rewrite": "/quote/"
            },
            {
                "__saved": [
                    0,
                    26,
                    0,
                    "/ambassador/v0/check_alive",
                    "GET"
                ],
                "_group_id": "7df546235997704c909d473af2cbcb5e606d20de",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "ambassador.yaml.1"
                ],
                "_source": "ambassador.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_127_0_0_1_8877",
                        "weight": 100.0
                    }
                ],
                "prefix": "/ambassador/v0/check_alive",
                "prefix_rewrite": "/ambassador/v0/check_alive",
                "timeout_ms": 10000
            },
            {
                "__saved": [
                    0,
                    26,
                    0,
                    "/ambassador/v0/check_ready",
                    "GET"
                ],
                "_group_id": "b4db12f5b638f1750062dd4220911c4f6f44fc57",
                "_method": "GET",
                "_precedence": 0,
                "_referenced_by": [
                    "ambassador.yaml.1"
                ],
                "_source": "ambassador.yaml.1",
                "clusters": [
                    {
                        "name": "cluster_127_0_0_1_8877",
                        "weight": 100.0
                    }
                ],
                "prefix": "/ambassador/v0/check_ready",
                "prefix_rewrite": "/ambassador/v0/check_ready",
                "timeout_ms": 10000
            },
            {
                "__saved": [
                    1,
                    1,
                    23,
                    "/",
                    "GET",
                    ":authority-o.datawire.io"
                ],
                "_group_id": "2546d074ac3eed1980718fb320b94b80a1171e82",
                "_method": "GET",
                "_precedence": 1,
                "_referenced_by": [
                    "mapping-with-precedence.yaml.3"
                ],
                "_source": "mapping-with-precedence.yaml.3",
                "clusters": [
                    {
                        "name": "cluster_precedence_one",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":authority",
                        "regex": false,
                        "value": "o.datawire.io"
                    }
                ],
                "prefix": "/",
                "prefix_rewrite": "/"
            },
            {
                "__saved": [
                    100,
                    1,
                    23,
                    "/",
                    "GET",
                    ":authority-h.datawire.io"
                ],
                "_group_id": "0aabc8367386e77e18354b2dea69302faf89858e",
                "_method": "GET",
                "_precedence": 100,
                "_referenced_by": [
                    "mapping-with-precedence.yaml.4"
                ],
                "_source": "mapping-with-precedence.yaml.4",
                "clusters": [
                    {
                        "name": "cluster_precedence_one",
                        "weight": 100.0
                    }
                ],
                "headers": [
                    {
                        "name": ":authority",
                        "regex": false,
                        "value": "h.datawire.io"
                    }
                ],
                "prefix": "/",
                "prefix_rewrite": "/"
            }
        ]
    },
    "errors": {
        "-global-": [
            {
                "error": "evil source.4 is not a dictionary? \"hello world\"",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            },
            {
                "error": "evil source.5 is missing 'kind'?? {\n    \"dictionary\": true,\n    \"with-no-kind\": true\n}",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            },
            {
                "error": "evil source.6 is empty",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            },
            {
                "error": "empty.yaml.1 is empty",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            }
        ],
        "mapping-qotm.yaml.1": [
            {
                "error": "circuit_breaker and outlier_detection are not supported",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            }
        ],
        "mapping-qotm.yaml.2": [
            {
                "error": "circuit_breaker and outlier_detection are not supported",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            }
        ],
        "mapping-qotm.yaml.3": [
            {
                "error": "circuit_breaker and outlier_detection are not supported",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            }
        ],
        "mapping-redirector.yaml.3": [
            {
                "error": "At most one of host_redirect and shadow may be set; ignoring host_redirect",
                "hostname": "sanitized",
                "ok": false,
                "resolvedname": "sanitized",
                "version": "sanitized"
            }
        ]
    },
    "source_map": {
        "--internal--": {
            "--internal--": true
        },
        "ambassador.yaml": {
            "ambassador.yaml.1": true
        },
        "auth-2.yaml": {
            "auth-2.yaml.1": true
        },
        "auth.yaml": {
            "auth.yaml.1": true
        },
        "custom-breaker.yaml": {
            "custom-breaker.yaml.1": true
        },
        "default-breaker.yaml": {
            "default-breaker.yaml.1": true
        },
        "default-outlier.yaml": {
            "default-outlier.yaml.1": true
        },
        "evil source": {
            "evil source.1": true,
            "evil source.3": true
        },
        "mapping-google.yaml": {
            "mapping-google.yaml.1": true
        },
        "mapping-grpc.yaml": {
            "mapping-grpc.yaml.1": true
        },
        "mapping-httpbin-shadow.yaml": {
            "mapping-httpbin-shadow.yaml.1": true
        },
        "mapping-httpbin.yaml": {
            "mapping-httpbin.yaml.1": true
        },
        "mapping-qotm.yaml": {
            "mapping-qotm.yaml.1": true,
            "mapping-qotm.yaml.2": true,
            "mapping-qotm.yaml.3": true
        },
        "mapping-qotm2.yaml": {
            "mapping-qotm2.yaml.1": true
        },
        "mapping-redirector.yaml": {
            "mapping-redirector.yaml.1": true,
            "mapping-redirector.yaml.2": true,
            "mapping-redirector.yaml.3": true
        },
        "mapping-websocket.yaml": {
            "mapping-websocket.yaml.1": true
        },
        "mapping-with-precedence.yaml": {
            "mapping-with-precedence.yaml.1": true,
            "mapping-with-precedence.yaml.2": true,
            "mapping-with-precedence.yaml.3": true,
            "mapping-with-precedence.yaml.4": true
        },
        "test source": {
            "test source.1": true,
            "test source.2": true,
            "test source.3": true
        }
    },
    "sources": {
        "--diagnostics--": {
            "_source": "--diagnostics--",
            "description": "The '--diagnostics--' source marks objects created by Ambassador to assist with diagnostic output.",
            "filename": "--diagnostics--",
            "index": 0,
            "kind": "diagnostics",
            "name": "Ambassador Diagnostics",
            "version": "v0"
        },
        "--internal--": {
            "_source": "--internal--",
            "description": "The '--internal--' source marks objects created by Ambassador's internal logic.",
            "filename": "--internal--",
            "index": 0,
            "kind": "Internal",
            "name": "Ambassador Internals",
            "version": "v0"
        },
        "ambassador.yaml.1": {
            "_source": "ambassador.yaml",
            "filename": "ambassador.yaml",
            "index": 1,
            "kind": "Module",
            "name": "ambassador",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nconfig:\n  diagnostics:\n    enabled: false\n  enable_grpc_http11_bridge: true\n  statsd:\n    enabled: true\n  tls:\n    client:\n      cacert_chain_file: /etc/ambassador-config/ca_cert_chain/tls.crt\n      cert_required: true\n      enabled: True,\n    server:\n      cert_chain_file: /etc/ambassador-config/certs/tls.crt\n      enabled: true\n      private_key_file: /etc/ambassador-config/certs/tls.key\n  use_proxy_proto: true\n  use_remote_address: true\nkind: Module\nname: ambassador\n"
        },
        "auth-2.yaml.1": {
            "_source": "auth-2.yaml",
            "filename": "auth-2.yaml",
            "index": 1,
            "kind": "AuthService",
            "name": "auth-canary",
            "version": "ambassador/v0",
            "yaml": "allowed_headers:\n- x-qotm-session\napiVersion: ambassador/v0\nauth_service: http://canary-auth:3000\nkind: AuthService\nname: auth-canary\npath_prefix: /extauth\n"
        },
        "auth.yaml.1": {
            "_source": "auth.yaml",
            "filename": "auth.yaml",
            "index": 1,
            "kind": "AuthService",
            "name": "authentication",
            "version": "ambassador/v0",
            "yaml": "allowed_headers:\n- x-qotm-session\napiVersion: ambassador/v0\nauth_service: http://example-auth:3000\nkind: AuthService\nname: authentication\npath_prefix: /extauth\n"
        },
        "custom-breaker.yaml.1": {
            "_source": "custom-breaker.yaml",
            "filename": "custom-breaker.yaml",
            "index": 1,
            "kind": "CircuitBreaker",
            "name": "custom",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nkind: CircuitBreaker\nmax_connections: 1\nmax_pending: 3\nmax_requests: 2\nmax_retries: 4\nname: custom\n"
        },
        "default-breaker.yaml.1": {
            "_source": "default-breaker.yaml",
            "filename": "default-breaker.yaml",
            "index": 1,
            "kind": "CircuitBreaker",
            "name": "default",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nkind: CircuitBreaker\nname: default\n"
        },
        "default-outlier.yaml.1": {
            "_source": "default-outlier.yaml",
            "filename": "default-outlier.yaml",
            "index": 1,
            "kind": "OutlierDetection",
            "name": "default",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nkind: OutlierDetection\nname: default\n"
        },
        "evil source.1": {
            "_source": "evil source",
            "filename": "evil source",
            "index": 1,
            "kind": "Mapping",
            "name": "evil_get_mapping",
            "version": "ambassador/v0",
            "yaml": "ambassador_id:\n- default\n- tester\napiVersion: ambassador/v0\nkind: Mapping\nmethod: GET\nname: evil_get_mapping\nprefix: /evil/\nservice: qotm\n"
        },
        "evil source.3": {
            "_source": "evil source",
            "filename": "evil source",
            "index": 3,
            "kind": "Mapping",
            "name": "evil_put_mapping",
            "version": "ambassador/v0",
            "yaml": "ambassador_id: default\napiVersion: ambassador/v0\nkind: Mapping\nmethod: PUT\nname: evil_put_mapping\nprefix: /evil/\nrewrite: /qotm/quote/\nservice: http://qotm\n"
        },
        "mapping-google.yaml.1": {
            "_source": "mapping-google.yaml",
            "filename": "mapping-google.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "google_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nenvoy_override:\n  request_headers_to_add:\n  - key: test\n    value: '%PROTOCOL%'\n  - key: test-2\n    value: testing\nhost_rewrite: google.com\nkind: Mapping\nname: google_mapping\nprefix: /google/\nservice: https://google.com\n"
        },
        "mapping-grpc.yaml.1": {
            "_source": "mapping-grpc.yaml",
            "filename": "mapping-grpc.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "grpc_mapping",
            "version": "ambassador/v0",
            "yaml": "ambassador_id:\n- default\n- testing\napiVersion: ambassador/v0\ngrpc: true\nkind: Mapping\nname: grpc_mapping\nprefix: /grpc/\nservice: 192.168.0.1:45\n"
        },
        "mapping-httpbin-shadow.yaml.1": {
            "_source": "mapping-httpbin-shadow.yaml",
            "filename": "mapping-httpbin-shadow.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "httpbin_shadow",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost_rewrite: httpbin.org\nkind: Mapping\nname: httpbin_shadow\nprefix: /httpbin/\nservice: https://myservice.org/\nshadow: true\ntimeout_ms: 50\n"
        },
        "mapping-httpbin.yaml.1": {
            "_source": "mapping-httpbin.yaml",
            "filename": "mapping-httpbin.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "httpbin_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost_rewrite: httpbin.org\nkind: Mapping\nname: httpbin_mapping\nprefix: /httpbin/\nservice: wtfo://httpbin.org\ntimeout_ms: 50\n"
        },
        "mapping-qotm.yaml.1": {
            "_source": "mapping-qotm.yaml",
            "errors": [
                {
                    "error": "circuit_breaker and outlier_detection are not supported",
                    "hostname": "sanitized",
                    "ok": false,
                    "resolvedname": "sanitized",
                    "version": "sanitized"
                }
            ],
            "filename": "mapping-qotm.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "qotm_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\ncircuit_breaker: custom\nkind: Mapping\nname: qotm_mapping\nprefix: /qotm/\nservice: qotm\n"
        },
        "mapping-qotm.yaml.2": {
            "_source": "mapping-qotm.yaml",
            "errors": [
                {
                    "error": "circuit_breaker and outlier_detection are not supported",
                    "hostname": "sanitized",
                    "ok": false,
                    "resolvedname": "sanitized",
                    "version": "sanitized"
                }
            ],
            "filename": "mapping-qotm.yaml",
            "index": 2,
            "kind": "Mapping",
            "name": "quote_mapping",
            "version": "ambassador/v0.12",
            "yaml": "apiVersion: ambassador/v0.12\ncircuit_breaker: default\nkind: Mapping\nname: quote_mapping\nprefix: /qotm/quote/\nrewrite: /quote/\nservice: qotm\n"
        },
        "mapping-qotm.yaml.3": {
            "_source": "mapping-qotm.yaml",
            "errors": [
                {
                    "error": "circuit_breaker and outlier_detection are not supported",
                    "hostname": "sanitized",
                    "ok": false,
                    "resolvedname": "sanitized",
                    "version": "sanitized"
                }
            ],
            "filename": "mapping-qotm.yaml",
            "index": 3,
            "kind": "Mapping",
            "name": "service_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\ncircuit_breaker: default\nkind: Mapping\nname: service_mapping\noutlier_detection: default\nprefix: /service/\nservice: qotm\n"
        },
        "mapping-qotm2.yaml.1": {
            "_source": "mapping-qotm2.yaml",
            "filename": "mapping-qotm2.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "qotm2_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nkind: Mapping\nname: qotm2_mapping\nprefix: /tspace/\nservice: qotm.tspace\n"
        },
        "mapping-redirector.yaml.1": {
            "_source": "mapping-redirector.yaml",
            "filename": "mapping-redirector.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "redirect_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost_redirect: true\nkind: Mapping\nname: redirect_mapping\npath_redirect: /ip/\nprefix: /redirect/\nservice: httpbin.org\ntimeout_ms: 50\n"
        },
        "mapping-redirector.yaml.2": {
            "_source": "mapping-redirector.yaml",
            "filename": "mapping-redirector.yaml",
            "index": 2,
            "kind": "Mapping",
            "name": "redirect_host_only_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost_redirect: true\nkind: Mapping\nname: redirect_host_only_mapping\nprefix: /redirect2/\nservice: httpbin.org\ntimeout_ms: 50\n"
        },
        "mapping-redirector.yaml.3": {
            "_source": "mapping-redirector.yaml",
            "errors": [
                {
                    "error": "At most one of host_redirect and shadow may be set; ignoring host_redirect",
                    "hostname": "sanitized",
                    "ok": false,
                    "resolvedname": "sanitized",
                    "version": "sanitized"
                }
            ],
            "filename": "mapping-redirector.yaml",
            "index": 3,
            "kind": "Mapping",
            "name": "bad_redirect_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost_redirect: true\nkind: Mapping\nname: bad_redirect_mapping\npath_redirect: /ip/\nprefix: /qotm/\nservice: httpbin.org\nshadow: true\n"
        },
        "mapping-websocket.yaml.1": {
            "_source": "mapping-websocket.yaml",
            "filename": "mapping-websocket.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "websocket_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nkind: Mapping\nname: websocket_mapping\nprefix: /slack/\nservice: slack.com\nuse_websocket: true\n"
        },
        "mapping-with-precedence.yaml.1": {
            "_source": "mapping-with-precedence.yaml",
            "filename": "mapping-with-precedence.yaml",
            "index": 1,
            "kind": "Mapping",
            "name": "no_precedence_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost: n.datawire.io\nkind: Mapping\nname: no_precedence_mapping\nprefix: /\nservice: precedence_none\n"
        },
        "mapping-with-precedence.yaml.2": {
            "_source": "mapping-with-precedence.yaml",
            "filename": "mapping-with-precedence.yaml",
            "index": 2,
            "kind": "Mapping",
            "name": "precedence_0_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost: z.datawire.io\nkind: Mapping\nname: precedence_0_mapping\nprecedence: 0\nprefix: /\nservice: precedence_zero\n"
        },
        "mapping-with-precedence.yaml.3": {
            "_source": "mapping-with-precedence.yaml",
            "filename": "mapping-with-precedence.yaml",
            "index": 3,
            "kind": "Mapping",
            "name": "precedence_1_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost: o.datawire.io\nkind: Mapping\nname: precedence_1_mapping\nprecedence: 1\nprefix: /\nservice: precedence_one\n"
        },
        "mapping-with-precedence.yaml.4": {
            "_source": "mapping-with-precedence.yaml",
            "filename": "mapping-with-precedence.yaml",
            "index": 4,
            "kind": "Mapping",
            "name": "precedence_100_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost: h.datawire.io\nkind: Mapping\nname: precedence_100_mapping\nprecedence: 100\nprefix: /\nservice: precedence_one\n"
        },
        "test source.1": {
            "_source": "test source",
            "filename": "test source",
            "index": 1,
            "kind": "Mapping",
            "name": "long_get_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nkind: Mapping\nmethod: GET\nname: long_get_mapping\nprefix: /long/\nregex_headers:\n  :authority: ^bar\\.example\\.com$\n  foo: ^bar\\.example\\.com$\nservice: really-really-really-long-no-i-mean-really-really-really-really-long-service\n"
        },
        "test source.2": {
            "_source": "test source",
            "filename": "test source",
            "index": 2,
            "kind": "Mapping",
            "name": "long_put_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nhost: ^bar\\.example\\.com$\nhost_regex: true\nkind: Mapping\nmethod: PUT\nname: long_put_mapping\nprefix: /long/\nrewrite: /qotm/quote/\nservice: really-really-really-long-no-i-mean-really-really-really-really-long-service-two\n"
        },
        "test source.3": {
            "_source": "test source",
            "filename": "test source",
            "index": 3,
            "kind": "Mapping",
            "name": "long_delete_mapping",
            "version": "ambassador/v0",
            "yaml": "apiVersion: ambassador/v0\nkind: Mapping\nmethod: DELETE\nname: long_delete_mapping\nprefix: /long/\nrewrite: /qotm/quote/\nservice: really-really-really-long-no-i-mean-really-really-really-really-long-service-two\n"
        }
    }
}